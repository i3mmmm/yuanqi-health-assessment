# å…ƒç‚æºæµå¥åº·è¯„ä¼°ç³»ç»Ÿ - éƒ¨ç½²æ–¹æ¡ˆé€‰æ‹©æŒ‡å—

## ğŸ“Š å¿«é€Ÿå†³ç­–æ ‘

è¯·æ ¹æ®æ‚¨çš„æƒ…å†µé€‰æ‹©æœ€é€‚åˆçš„éƒ¨ç½²æ–¹æ¡ˆï¼š

```
æ‚¨æœ‰æœåŠ¡å™¨çš„SSHè®¿é—®æƒé™å—ï¼Ÿ
â”œâ”€ æ˜¯ â†’ é€‰æ‹©ã€æ–¹æ¡ˆä¸€ï¼šVPS/äº‘æœåŠ¡å™¨éƒ¨ç½²ã€‘ï¼ˆæ¨èï¼‰
â”‚
â””â”€ å¦ â†’ æ‚¨ä½¿ç”¨çš„æ˜¯ä»€ä¹ˆç±»å‹çš„ç½‘ç»œç©ºé—´ï¼Ÿ
    â”œâ”€ cPanel/å®å¡”é¢æ¿ â†’ é€‰æ‹©ã€æ–¹æ¡ˆäºŒï¼šæ§åˆ¶é¢æ¿éƒ¨ç½²ã€‘
    â”‚
    â”œâ”€ çº¯é™æ€ç½‘ç«™æ‰˜ç®¡ï¼ˆå¦‚GitHub Pagesï¼‰â†’ âŒ ä¸æ”¯æŒNode.jsåç«¯
    â”‚
    â””â”€ ä¸ç¡®å®š â†’ ç»§ç»­é˜…è¯»ï¼Œæˆ–è”ç³»æ‚¨çš„ç©ºé—´æä¾›å•†ç¡®è®¤
```

---

## ğŸ¯ æ–¹æ¡ˆä¸€ï¼šVPS/äº‘æœåŠ¡å™¨éƒ¨ç½²ï¼ˆæ¨èï¼‰

### é€‚ç”¨åœºæ™¯
- âœ… æ‚¨æœ‰æœåŠ¡å™¨çš„SSHè®¿é—®æƒé™ï¼ˆå¯ä»¥è¿œç¨‹ç™»å½•ï¼‰
- âœ… æ‚¨è´­ä¹°äº†VPSï¼ˆå¦‚é˜¿é‡Œäº‘ECSã€è…¾è®¯äº‘CVMï¼‰
- âœ… æ‚¨å¯ä»¥å®‰è£…è½¯ä»¶ã€é…ç½®ç¯å¢ƒ
- âœ… éœ€è¦å®Œæ•´çš„åç«¯APIåŠŸèƒ½

### ä¼˜ç‚¹
- âœ… å®Œå…¨æ§åˆ¶æœåŠ¡å™¨
- âœ… å¯ä»¥å®‰è£…Node.jsã€MySQL
- âœ… æ€§èƒ½å¥½ã€å¯æ‰©å±•
- âœ… æ•°æ®å®Œå…¨è‡ªæ§

### ç¼ºç‚¹
- âŒ éœ€è¦ä¸€äº›æŠ€æœ¯åŸºç¡€
- âŒ éœ€è¦è‡ªå·±é…ç½®ç¯å¢ƒ

### éƒ¨ç½²æ—¶é—´
- **é¦–æ¬¡éƒ¨ç½²**ï¼š30-60åˆ†é’Ÿ
- **åç»­æ›´æ–°**ï¼š5-10åˆ†é’Ÿ

---

## ğŸ› ï¸ æ–¹æ¡ˆäºŒï¼šæ§åˆ¶é¢æ¿éƒ¨ç½²ï¼ˆcPanel/å®å¡”ï¼‰

### é€‚ç”¨åœºæ™¯
- âœ… æ‚¨çš„ä¸»æœºæä¾›cPanelæˆ–å®å¡”é¢æ¿
- âœ… é¢æ¿æ”¯æŒå®‰è£…Node.js
- âœ… ä¸æƒ³ä½¿ç”¨å‘½ä»¤è¡Œ

### ä¼˜ç‚¹
- âœ… å›¾å½¢ç•Œé¢æ“ä½œ
- âœ… ä¸éœ€è¦SSHè®¿é—®
- âœ… é€‚åˆæ–°æ‰‹

### ç¼ºç‚¹
- âŒ å¹¶éæ‰€æœ‰é¢æ¿éƒ½æ”¯æŒNode.js
- âŒ åŠŸèƒ½å¯èƒ½å—é™

### éƒ¨ç½²æ—¶é—´
- **é¦–æ¬¡éƒ¨ç½²**ï¼š40-90åˆ†é’Ÿ
- **åç»­æ›´æ–°**ï¼š10-20åˆ†é’Ÿ

---

## âš ï¸ æ–¹æ¡ˆä¸‰ï¼šé™çº§éƒ¨ç½²ï¼ˆä»…å‰ç«¯ï¼‰

### é€‚ç”¨åœºæ™¯
- âŒ æ‚¨çš„ç©ºé—´ä¸æ”¯æŒNode.js
- âŒ æ‚¨æ— æ³•å®‰è£…åç«¯ç¯å¢ƒ
- âŒ åªæœ‰é™æ€ç½‘é¡µæ‰˜ç®¡

### é™åˆ¶
- âŒ æ— æ³•ä½¿ç”¨åç«¯API
- âŒ æ•°æ®è‡ªåŠ¨åˆ†æåŠŸèƒ½ä¸å¯ç”¨
- âŒ PDFè‡ªåŠ¨ç”Ÿæˆä¸å¯ç”¨
- âŒ ç®¡ç†åå°æ— æ³•ä»APIè·å–æ•°æ®

### å¯ç”¨åŠŸèƒ½
- âœ… è¯„ä¼°è¡¨å•å¡«å†™
- âœ… ç—‡çŠ¶é€‰æ‹©
- âœ… JSONæ–‡ä»¶ä¸‹è½½
- âœ… æ‰‹åŠ¨ç”ŸæˆæŠ¥å‘Š

### éƒ¨ç½²æ—¶é—´
- **é¦–æ¬¡éƒ¨ç½²**ï¼š5-10åˆ†é’Ÿ
- **åç»­æ›´æ–°**ï¼š2-5åˆ†é’Ÿ

---

## ğŸš€ æ¨èéƒ¨ç½²æµç¨‹

### å¦‚æœæ‚¨é€‰æ‹©æ–¹æ¡ˆä¸€ï¼ˆVPS/äº‘æœåŠ¡å™¨ï¼‰

#### ç¬¬ä¸€æ­¥ï¼šå‡†å¤‡æœåŠ¡å™¨ä¿¡æ¯

æ‚¨éœ€è¦ç¡®è®¤ä»¥ä¸‹ä¿¡æ¯ï¼š
- [ ] æœåŠ¡å™¨IPåœ°å€
- [ ] SSHç«¯å£ï¼ˆé»˜è®¤22ï¼‰
- [ ] rootç”¨æˆ·å¯†ç 
- [ ] åŸŸåï¼ˆå¦‚æœæ²¡æœ‰åŸŸåï¼Œå¯ä½¿ç”¨IPåœ°å€ï¼‰

#### ç¬¬äºŒæ­¥ï¼šè¿æ¥æœåŠ¡å™¨

**Windowsç”¨æˆ·ï¼š**
```bash
# ä½¿ç”¨PowerShellæˆ–CMD
ssh root@æ‚¨çš„æœåŠ¡å™¨IP
# è¾“å…¥å¯†ç åç™»å½•
```

**Mac/Linuxç”¨æˆ·ï¼š**
```bash
# æ‰“å¼€ç»ˆç«¯
ssh root@æ‚¨çš„æœåŠ¡å™¨IP
# è¾“å…¥å¯†ç åç™»å½•
```

#### ç¬¬ä¸‰æ­¥ï¼šä¸Šä¼ æ–‡ä»¶ï¼ˆäºŒé€‰ä¸€ï¼‰

**æ–¹æ³•Aï¼šä½¿ç”¨SCPå‘½ä»¤ï¼ˆå¿«é€Ÿï¼‰**

åœ¨æ‚¨çš„æœ¬åœ°ç”µè„‘ï¼ˆä¸æ˜¯æœåŠ¡å™¨ï¼‰ç»ˆç«¯æ‰§è¡Œï¼š

```bash
# ä¸Šä¼ åç«¯æ–‡ä»¶
scp backend-api-server.js root@æ‚¨çš„æœåŠ¡å™¨IP:/var/www/yuanqi-api/
scp database_schema.sql root@æ‚¨çš„æœåŠ¡å™¨IP:/var/www/yuanqi-api/
scp data_migration.js root@æ‚¨çš„æœåŠ¡å™¨IP:/var/www/yuanqi-api/
scp quick-deploy.sh root@æ‚¨çš„æœåŠ¡å™¨IP:/root/

# ä¸Šä¼ å‰ç«¯æ–‡ä»¶
scp health_assessment_final_fixed.html root@æ‚¨çš„æœåŠ¡å™¨IP:/var/www/yuanqi-frontend/
scp health_assessment_backend_complete.html root@æ‚¨çš„æœåŠ¡å™¨IP:/var/www/yuanqi-frontend/
scp frontend-api-integration.js root@æ‚¨çš„æœåŠ¡å™¨IP:/var/www/yuanqi-frontend/
scp admin-api-integration.js root@æ‚¨çš„æœåŠ¡å™¨IP:/var/www/yuanqi-frontend/

# ä¸Šä¼ æ•°æ®æ–‡ä»¶
scp symptoms_299_complete.json root@æ‚¨çš„æœåŠ¡å™¨IP:/var/www/yuanqi-api/
scp first_assessment_20251213.json root@æ‚¨çš„æœåŠ¡å™¨IP:/var/www/yuanqi-api/
scp second_assessment_20260113.json root@æ‚¨çš„æœåŠ¡å™¨IP:/var/www/yuanqi-api/
scp sample_assessment_data.json root@æ‚¨çš„æœåŠ¡å™¨IP:/var/www/yuanqi-api/
```

**æ–¹æ³•Bï¼šä½¿ç”¨SFTPå·¥å…·ï¼ˆå›¾å½¢ç•Œé¢ï¼‰**

æ¨èå·¥å…·ï¼š
- **FileZilla**ï¼ˆå…è´¹ï¼Œæ”¯æŒWindows/Mac/Linuxï¼‰
- **WinSCP**ï¼ˆWindowsï¼‰
- **Cyberduck**ï¼ˆMacï¼‰

FileZillaä½¿ç”¨æ­¥éª¤ï¼š
1. ä¸‹è½½å®‰è£…FileZilla
2. æ‰“å¼€FileZillaï¼Œç‚¹å‡»"æ–‡ä»¶" â†’ "ç«™ç‚¹ç®¡ç†å™¨"
3. æ–°å»ºç«™ç‚¹ï¼Œå¡«å†™ï¼š
   - ä¸»æœºï¼šæ‚¨çš„æœåŠ¡å™¨IP
   - ç«¯å£ï¼š22
   - åè®®ï¼šSFTP
   - ç”¨æˆ·åï¼šroot
   - å¯†ç ï¼šæ‚¨çš„rootå¯†ç 
4. è¿æ¥åï¼Œå°†æ–‡ä»¶æ‹–æ‹½åˆ°å¯¹åº”ç›®å½•ï¼š
   - åç«¯æ–‡ä»¶ï¼š`/var/www/yuanqi-api/`
   - å‰ç«¯æ–‡ä»¶ï¼š`/var/www/yuanqi-frontend/`

#### ç¬¬å››æ­¥ï¼šè¿è¡Œä¸€é”®éƒ¨ç½²è„šæœ¬

åœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œï¼š

```bash
# åˆ›å»ºç›®å½•
mkdir -p /var/www/yuanqi-api
mkdir -p /var/www/yuanqi-frontend

# è¿›å…¥è„šæœ¬ç›®å½•
cd /root

# èµ‹äºˆè„šæœ¬æ‰§è¡Œæƒé™
chmod +x quick-deploy.sh

# è¿è¡Œéƒ¨ç½²è„šæœ¬
bash quick-deploy.sh
```

æŒ‰ç…§æç¤ºè¾“å…¥ï¼š
1. åŸŸåï¼ˆä¾‹å¦‚ï¼šyourdomain.comï¼‰
2. MySQL rootå¯†ç 
3. ç¡®è®¤æ–‡ä»¶å·²ä¸Šä¼ å®Œæˆ

è„šæœ¬å°†è‡ªåŠ¨å®Œæˆï¼š
- âœ… å®‰è£…Node.jsã€MySQLã€Nginx
- âœ… é…ç½®æ•°æ®åº“
- âœ… å¯åŠ¨åç«¯æœåŠ¡
- âœ… é…ç½®Nginxåå‘ä»£ç†

#### ç¬¬äº”æ­¥ï¼šä¿®æ”¹å‰ç«¯é…ç½®

åœ¨æœåŠ¡å™¨ä¸Šç¼–è¾‘å‰ç«¯æ–‡ä»¶ï¼š

```bash
nano /var/www/yuanqi-frontend/frontend-api-integration.js
```

æ‰¾åˆ°è¿™è¡Œï¼š
```javascript
const API_CONFIG = {
    baseURL: 'http://localhost:3000',  // ä¿®æ”¹è¿™é‡Œ
    // ...
};
```

æ”¹ä¸ºæ‚¨çš„åŸŸåï¼š
```javascript
const API_CONFIG = {
    baseURL: 'https://yourdomain.com',  // ä¿®æ”¹ä¸ºæ‚¨çš„åŸŸå
    // ...
};
```

åŒæ ·ä¿®æ”¹ `admin-api-integration.js`ï¼š
```bash
nano /var/www/yuanqi-frontend/admin-api-integration.js
```

æ‰¾åˆ°å¹¶ä¿®æ”¹ï¼š
```javascript
const AdminAPIConfig = {
    baseURL: 'https://yourdomain.com',  // ä¿®æ”¹ä¸ºæ‚¨çš„åŸŸå
    // ...
};
```

ä¿å­˜å¹¶é€€å‡ºï¼ˆCtrl+Oï¼ŒEnterï¼ŒCtrl+Xï¼‰

#### ç¬¬å…­æ­¥ï¼šæµ‹è¯•éƒ¨ç½²

åœ¨æµè§ˆå™¨ä¸­è®¿é—®ï¼š

**è¯„ä¼°é¡µé¢ï¼š**
```
http://yourdomain.com/health_assessment_final_fixed.html
```

**ç®¡ç†åå°ï¼š**
```
http://yourdomain.com/health_assessment_backend_complete.html
```

**APIæµ‹è¯•ï¼š**
```bash
curl http://yourdomain.com/api/stats
```

åº”è¯¥è¿”å›JSONæ ¼å¼çš„ç»Ÿè®¡æ•°æ®ã€‚

---

## ğŸ’¡ å¦‚æœæ‚¨é€‰æ‹©æ–¹æ¡ˆäºŒï¼ˆå®å¡”é¢æ¿ï¼‰

### å‰ææ¡ä»¶
- æ‚¨çš„æœåŠ¡å™¨å·²å®‰è£…å®å¡”é¢æ¿
- å®å¡”é¢æ¿ç‰ˆæœ¬ >= 7.0

### éƒ¨ç½²æ­¥éª¤

#### 1. ç™»å½•å®å¡”é¢æ¿

åœ¨æµè§ˆå™¨è®¿é—®ï¼š
```
http://æ‚¨çš„æœåŠ¡å™¨IP:8888
```

#### 2. å®‰è£…è½¯ä»¶ç¯å¢ƒ

**è½¯ä»¶å•†åº— â†’ å®‰è£…ä»¥ä¸‹è½¯ä»¶ï¼š**
- Nginx 1.20+
- MySQL 5.7+
- Node.jsç‰ˆæœ¬ç®¡ç†å™¨

#### 3. åˆ›å»ºç½‘ç«™

**ç½‘ç«™ â†’ æ·»åŠ ç«™ç‚¹**
- åŸŸåï¼šyourdomain.com
- PHPç‰ˆæœ¬ï¼šçº¯é™æ€

#### 4. ä¸Šä¼ æ–‡ä»¶

**æ–‡ä»¶ â†’ ç‚¹å‡»ç½‘ç«™æ ¹ç›®å½•**

åˆ›å»ºä¸¤ä¸ªç›®å½•ï¼š
- `api/` ï¼ˆå­˜æ”¾åç«¯æ–‡ä»¶ï¼‰
- `frontend/` ï¼ˆå­˜æ”¾å‰ç«¯æ–‡ä»¶ï¼‰

**ä¸Šä¼ ä»¥ä¸‹æ–‡ä»¶åˆ°å¯¹åº”ç›®å½•ï¼š**

**åç«¯æ–‡ä»¶åˆ° `api/`ï¼š**
- backend-api-server.js
- database_schema.sql
- data_migration.js
- symptoms_299_complete.json
- first_assessment_20251213.json
- second_assessment_20260113.json
- sample_assessment_data.json

**å‰ç«¯æ–‡ä»¶åˆ° `frontend/`ï¼š**
- health_assessment_final_fixed.html
- health_assessment_backend_complete.html
- frontend-api-integration.js
- admin-api-integration.js

#### 5. é…ç½®Node.js

**è½¯ä»¶å•†åº— â†’ Node.jsç‰ˆæœ¬ç®¡ç†å™¨ â†’ å®‰è£…Node.js 18.x**

**å®‰è£…å®Œæˆå â†’ PM2ç®¡ç†å™¨ â†’ æ·»åŠ é¡¹ç›®ï¼š**
- åç§°ï¼šyuanqi-api
- è¿è¡Œç›®å½•ï¼š/www/wwwroot/yourdomain.com/api/
- å¯åŠ¨æ–‡ä»¶ï¼šbackend-api-server.js
- ç«¯å£ï¼š3000

#### 6. é…ç½®Nginx

**ç½‘ç«™ â†’ è®¾ç½® â†’ é…ç½®æ–‡ä»¶**

åœ¨ `server { ... }` å—å†…æ·»åŠ ï¼š

```nginx
location /api/ {
    proxy_pass http://127.0.0.1:3000;
    proxy_set_header Host $host;
    proxy_set_header X-Real-IP $remote_addr;
    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
}

location / {
    root /www/wwwroot/yourdomain.com/frontend;
    index index.html;
    try_files $uri $uri/ /index.html;
}
```

ä¿å­˜åé‡è½½é…ç½®ã€‚

#### 7. åˆ›å»ºæ•°æ®åº“

**æ•°æ®åº“ â†’ æ·»åŠ æ•°æ®åº“**
- æ•°æ®åº“åï¼šyuanqi_health_db
- ç”¨æˆ·åï¼šyuanqi_user
- å¯†ç ï¼šï¼ˆè®¾ç½®ä¸€ä¸ªå¼ºå¯†ç ï¼‰

**ç‚¹å‡»ç®¡ç† â†’ å¯¼å…¥**
- é€‰æ‹© `database_schema.sql` æ–‡ä»¶å¹¶å¯¼å…¥

#### 8. æ‰§è¡Œæ•°æ®è¿ç§»

é€šè¿‡å®å¡”é¢æ¿çš„SSHç»ˆç«¯ï¼š
```bash
cd /www/wwwroot/yourdomain.com/api
node data_migration.js
```

#### 9. ä¿®æ”¹å‰ç«¯é…ç½®

ä¿®æ”¹ `frontend/frontend-api-integration.js` å’Œ `admin-api-integration.js`ï¼š

```javascript
// å°†baseURLä¿®æ”¹ä¸ºæ‚¨çš„åŸŸå
baseURL: 'https://yourdomain.com'
```

#### 10. é…ç½®SSLï¼ˆå¯é€‰ï¼‰

**ç½‘ç«™ â†’ è®¾ç½® â†’ SSL â†’ Let's Encrypt**
- é€‰æ‹©æ‚¨çš„åŸŸå
- ç‚¹å‡»ç”³è¯·

---

## â“ å¸¸è§é—®é¢˜

### Q1: æˆ‘ä¸ç¡®å®šæˆ‘çš„æœåŠ¡å™¨ç±»å‹æ€ä¹ˆåŠï¼Ÿ

**A:** è¯·è”ç³»æ‚¨çš„ç½‘ç»œç©ºé—´æä¾›å•†ï¼Œè¯¢é—®ä»¥ä¸‹é—®é¢˜ï¼š
1. "æˆ‘çš„æœåŠ¡å™¨æ”¯æŒSSHè®¿é—®å—ï¼Ÿ"
2. "æˆ‘å¯ä»¥å®‰è£…Node.jså’ŒMySQLå—ï¼Ÿ"
3. "æˆ‘çš„æœåŠ¡å™¨ä½¿ç”¨ä»€ä¹ˆæ§åˆ¶é¢æ¿ï¼Ÿ"

æ ¹æ®å›ç­”é€‰æ‹©å¯¹åº”æ–¹æ¡ˆã€‚

### Q2: æ²¡æœ‰åŸŸåæ€ä¹ˆåŠï¼Ÿ

**A:** æ‚¨å¯ä»¥å…ˆç”¨æœåŠ¡å™¨çš„IPåœ°å€è®¿é—®ï¼š
```
http://æ‚¨çš„æœåŠ¡å™¨IP/health_assessment_final_fixed.html
```

ä½†æ— æ³•é…ç½®SSLè¯ä¹¦ï¼ˆHTTPSï¼‰ï¼Œå»ºè®®åç»­è´­ä¹°åŸŸåã€‚

### Q3: éƒ¨ç½²åé¡µé¢æ— æ³•è®¿é—®ï¼Ÿ

**A:** æ£€æŸ¥æ¸…å•ï¼š
1. ç¡®è®¤æ–‡ä»¶å·²ä¸Šä¼ åˆ°æ­£ç¡®ç›®å½•
2. æ£€æŸ¥Nginxé…ç½®ï¼š`nginx -t`
3. æ£€æŸ¥PM2è¿›ç¨‹ï¼š`pm2 status`
4. æŸ¥çœ‹é”™è¯¯æ—¥å¿—ï¼š`pm2 logs yuanqi-api`
5. ç¡®è®¤é˜²ç«å¢™å·²å¼€æ”¾80ã€443ç«¯å£

### Q4: éƒ¨ç½²å¤ªå¤æ‚ï¼Œæœ‰æ›´ç®€å•çš„æ–¹æ³•å—ï¼Ÿ

**A:** æ‚¨å¯ä»¥è€ƒè™‘ï¼š
1. é›‡ä½£æŠ€æœ¯äººå‘˜å¸®æ‚¨éƒ¨ç½²
2. ä½¿ç”¨Serverlesså¹³å°ï¼ˆå¦‚Vercel + Supabaseï¼‰
3. æš‚æ—¶ä½¿ç”¨é™çº§æ–¹æ¡ˆï¼ˆä»…å‰ç«¯ï¼‰

---

## ğŸ“ éœ€è¦æ›´å¤šå¸®åŠ©ï¼Ÿ

å¦‚æœéƒ¨ç½²è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼Œè¯·æä¾›ä»¥ä¸‹ä¿¡æ¯ï¼š

1. **æ‚¨çš„æœåŠ¡å™¨ç±»å‹**
   - [ ] VPS/äº‘æœåŠ¡å™¨
   - [ ] è™šæ‹Ÿä¸»æœº
   - [ ] å®å¡”/cPanelé¢æ¿
   - [ ] å…¶ä»–

2. **æ‚¨çš„æ“ä½œç³»ç»Ÿ**
   - [ ] Ubuntu
   - [ ] CentOS
   - [ ] Windows Server
   - [ ] å…¶ä»–

3. **é‡åˆ°çš„å…·ä½“é—®é¢˜**
   - æè¿°é”™è¯¯ä¿¡æ¯
   - æˆªå›¾ï¼ˆå¦‚æœå¯èƒ½ï¼‰

è¿™æ ·æˆ‘å¯ä»¥ä¸ºæ‚¨æä¾›æ›´ç²¾å‡†çš„è§£å†³æ–¹æ¡ˆã€‚
