# å…ƒç‚æºæµå¥åº·è¯„ä¼°ç³»ç»Ÿ Â· æ•°æ®åº“å‡çº§æŠ€æœ¯æ–¹æ¡ˆ

## ä¸€ã€é¡¹ç›®æ¦‚è¿°

### 1.1 å½“å‰ç³»ç»Ÿæ¶æ„
- **æ¶æ„ç±»å‹**ï¼šçº¯å‰ç«¯é™æ€HTML + JSONæ–‡ä»¶å­˜å‚¨
- **æ•°æ®å­˜å‚¨**ï¼šæµè§ˆå™¨localStorage + æœ¬åœ°JSONæ–‡ä»¶
- **ä¸»è¦é™åˆ¶**ï¼š
  - æ•°æ®æ— æ³•è·¨è®¾å¤‡åŒæ­¥
  - åå°æ— æ³•å®æ—¶æ¥æ”¶æ–°è¯„ä¼°æ•°æ®
  - æ•°æ®åˆ†æéœ€è¦äººå·¥è®¡ç®—
  - æ— æ³•å®ç°å¤šç”¨æˆ·æƒé™ç®¡ç†

### 1.2 å‡çº§ç›®æ ‡
æ„å»ºå®Œæ•´çš„æ•°æ®åº“é©±åŠ¨çš„å¥åº·è¯„ä¼°ç³»ç»Ÿï¼Œå®ç°ï¼š
- âœ… å®¢æˆ·æ•°æ®å®æ—¶æäº¤ä¸å­˜å‚¨
- âœ… åå°è‡ªåŠ¨æ•°æ®åˆ†æä¸æŠ¥å‘Šç”Ÿæˆ
- âœ… å¤šç”¨æˆ·æƒé™ç®¡ç†ï¼ˆå®¢æˆ·ã€è°ƒç†å¸ˆã€ç®¡ç†å‘˜ï¼‰
- âœ… æ•°æ®å†å²è¿½è¸ªä¸è¶‹åŠ¿åˆ†æ
- âœ… å¯æ‰©å±•çš„æ¶æ„è®¾è®¡

---

## äºŒã€æŠ€æœ¯é€‰å‹

### 2.1 æ•°æ®åº“é€‰æ‹©

#### æ–¹æ¡ˆAï¼šMySQLï¼ˆæ¨èï¼‰
**ä¼˜åŠ¿**ï¼š
- âœ… å¼€æºå…è´¹ï¼Œæˆç†Ÿç¨³å®š
- âœ… ä¸°å¯Œçš„ç”Ÿæ€ç³»ç»Ÿå’Œå·¥å…·
- âœ… å¼ºå¤§çš„SQLæŸ¥è¯¢èƒ½åŠ›
- âœ… æ”¯æŒå¤æ‚å…³ç³»æŸ¥è¯¢
- âœ… è‰¯å¥½çš„äº‹åŠ¡æ”¯æŒ
- âœ… äº‘æœåŠ¡æ”¯æŒå…¨é¢ï¼ˆé˜¿é‡Œäº‘RDSã€è…¾è®¯äº‘ç­‰ï¼‰

**é€‚ç”¨åœºæ™¯**ï¼šéœ€è¦å¤æ‚æŸ¥è¯¢ã€æ•°æ®åˆ†æã€ç”¨æˆ·ç®¡ç†çš„ä¼ä¸šçº§åº”ç”¨

---

#### æ–¹æ¡ˆBï¼šMongoDB
**ä¼˜åŠ¿**ï¼š
- âœ… æ–‡æ¡£å‹æ•°æ®åº“ï¼Œçµæ´»çš„Schemaè®¾è®¡
- âœ… é€‚åˆå­˜å‚¨JSONæ ¼å¼çš„å¤æ‚åµŒå¥—æ•°æ®
- âœ… æ°´å¹³æ‰©å±•èƒ½åŠ›å¼º
- âœ… å¼€å‘æ•ˆç‡é«˜

**é€‚ç”¨åœºæ™¯**ï¼šæ•°æ®ç»“æ„é¢‘ç¹å˜åŒ–ã€éœ€è¦å¿«é€Ÿè¿­ä»£çš„åˆåˆ›é¡¹ç›®

---

#### æ–¹æ¡ˆCï¼šPostgreSQL
**ä¼˜åŠ¿**ï¼š
- âœ… å¼€æºï¼ŒåŠŸèƒ½å¼ºå¤§
- âœ… æ”¯æŒå¤æ‚çš„æ•°æ®ç±»å‹ï¼ˆJSONã€æ•°ç»„ç­‰ï¼‰
- âœ… ä¼˜ç§€çš„æ€§èƒ½å’Œç¨³å®šæ€§
- âœ… æ”¯æŒå…¨æ–‡æœç´¢

**é€‚ç”¨åœºæ™¯**ï¼šéœ€è¦é«˜çº§åŠŸèƒ½ã€æ•°æ®åˆ†æçš„é¡¹ç›®

---

### 2.2 åç«¯æŠ€æœ¯æ ˆ

#### æ¨èæ–¹æ¡ˆï¼šNode.js + Express
```javascript
// æŠ€æœ¯æ ˆ
Node.js (v18+)          // è¿è¡Œæ—¶ç¯å¢ƒ
Express.js              // Webæ¡†æ¶
MySQL2                  // MySQLé©±åŠ¨
Prisma ORM              // æ•°æ®åº“ORMï¼ˆå¯é€‰ï¼‰
JWT                     // èº«ä»½éªŒè¯
Bcrypt                  // å¯†ç åŠ å¯†
Multer                  // æ–‡ä»¶ä¸Šä¼ 
```

**ç†ç”±**ï¼š
- âœ… å‰åç«¯ç»Ÿä¸€ä½¿ç”¨JavaScriptï¼Œé™ä½å­¦ä¹ æˆæœ¬
- âœ… ä¸°å¯Œçš„npmåŒ…ç”Ÿæ€
- âœ… å¼‚æ­¥éé˜»å¡I/Oï¼Œæ€§èƒ½ä¼˜ç§€
- âœ… ç¤¾åŒºæ´»è·ƒï¼Œèµ„æ–™ä¸°å¯Œ

---

## ä¸‰ã€æ•°æ®åº“è®¾è®¡

### 3.1 ERå›¾è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ç”¨æˆ·è¡¨     â”‚â”€â”€â”€â”€â”€â”€â”€â”‚  è¯„ä¼°è®°å½•è¡¨  â”‚â”€â”€â”€â”€â”€â”€â”€â”‚  ç—‡çŠ¶è¯¦æƒ…è¡¨  â”‚
â”‚  users      â”‚       â”‚assessments â”‚       â”‚ symptoms   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                     â”‚                     â”‚
       â”‚ 1:N                 â”‚ 1:N                 â”‚ N:1
       â–¼                     â–¼                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  åˆ†æç»“æœè¡¨  â”‚       â”‚  ç—‡çŠ¶åº“è¡¨    â”‚       â”‚  è°ƒç†æ–¹æ¡ˆè¡¨  â”‚
â”‚  analyses   â”‚       â”‚symptom_lib â”‚       â”‚  plans      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 1:N
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æŠ¥å‘Šæ–‡ä»¶è¡¨  â”‚
â”‚   reports   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 3.2 æ ¸å¿ƒè¡¨ç»“æ„è®¾è®¡

#### è¡¨1ï¼šç”¨æˆ·è¡¨ (users)
```sql
CREATE TABLE users (
    id INT PRIMARY KEY AUTO_INCREMENT,
    username VARCHAR(50) NOT NULL UNIQUE COMMENT 'ç”¨æˆ·å',
    password_hash VARCHAR(255) NOT NULL COMMENT 'å¯†ç å“ˆå¸Œ',
    real_name VARCHAR(50) COMMENT 'çœŸå®å§“å',
    phone VARCHAR(20) UNIQUE COMMENT 'æ‰‹æœºå·',
    email VARCHAR(100) COMMENT 'é‚®ç®±',
    role ENUM('customer', 'practitioner', 'admin') DEFAULT 'customer' COMMENT 'è§’è‰²ï¼šå®¢æˆ·/è°ƒç†å¸ˆ/ç®¡ç†å‘˜',
    avatar_url VARCHAR(255) COMMENT 'å¤´åƒURL',
    status ENUM('active', 'inactive', 'banned') DEFAULT 'active' COMMENT 'çŠ¶æ€',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'æ›´æ–°æ—¶é—´',
    last_login_at TIMESTAMP NULL COMMENT 'æœ€åç™»å½•æ—¶é—´',
    INDEX idx_phone (phone),
    INDEX idx_role (role)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='ç”¨æˆ·è¡¨';
```

---

#### è¡¨2ï¼šè¯„ä¼°è®°å½•è¡¨ (assessments)
```sql
CREATE TABLE assessments (
    id INT PRIMARY KEY AUTO_INCREMENT,
    user_id INT NOT NULL COMMENT 'ç”¨æˆ·IDï¼Œå…³è”usersè¡¨',
    assessment_code VARCHAR(32) UNIQUE NOT NULL COMMENT 'è¯„ä¼°ç¼–å·',
    assessment_date DATETIME NOT NULL COMMENT 'è¯„ä¼°æ—¶é—´',
    
    -- åŸºç¡€ä¿¡æ¯
    real_name VARCHAR(50) NOT NULL COMMENT 'çœŸå®å§“å',
    age INT NOT NULL COMMENT 'å¹´é¾„',
    gender ENUM('male', 'female') NOT NULL COMMENT 'æ€§åˆ«',
    height DECIMAL(5,2) COMMENT 'èº«é«˜(cm)',
    weight DECIMAL(5,2) COMMENT 'ä½“é‡(kg)',
    waist_circumference INT COMMENT 'è…°å›´(cm)',
    blood_sugar DECIMAL(5,2) COMMENT 'è¡€ç³–(mmol/L)',
    systolic_pressure INT COMMENT 'æ”¶ç¼©å‹(mmHg)',
    diastolic_pressure INT COMMENT 'èˆ’å¼ å‹(mmHg)',
    remarks TEXT COMMENT 'å¤‡æ³¨',
    
    -- ç»Ÿè®¡ä¿¡æ¯
    total_symptoms INT DEFAULT 0 COMMENT 'ç—‡çŠ¶æ€»æ•°',
    total_score DECIMAL(10,2) DEFAULT 0 COMMENT 'ç—‡çŠ¶æ€»åˆ†',
    avg_score DECIMAL(5,2) DEFAULT 0 COMMENT 'å¹³å‡åˆ†',
    
    -- çŠ¶æ€
    status ENUM('draft', 'completed', 'analyzed', 'archived') DEFAULT 'draft' COMMENT 'çŠ¶æ€',
    
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'æ›´æ–°æ—¶é—´',
    
    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE,
    INDEX idx_user_id (user_id),
    INDEX idx_assessment_code (assessment_code),
    INDEX idx_assessment_date (assessment_date)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='è¯„ä¼°è®°å½•è¡¨';
```

---

#### è¡¨3ï¼šç—‡çŠ¶è¯¦æƒ…è¡¨ (assessment_symptoms)
```sql
CREATE TABLE assessment_symptoms (
    id INT PRIMARY KEY AUTO_INCREMENT,
    assessment_id INT NOT NULL COMMENT 'è¯„ä¼°è®°å½•ID',
    symptom_id INT NOT NULL COMMENT 'ç—‡çŠ¶IDï¼Œå…³è”symptom_libraryè¡¨',
    
    -- ç—‡çŠ¶ä¿¡æ¯
    symptom_name VARCHAR(100) NOT NULL COMMENT 'ç—‡çŠ¶åç§°',
    side ENUM('left', 'right', 'both') COMMENT 'ä½ç½®ï¼šå·¦ä¾§/å³ä¾§/åŒä¾§',
    intensity INT NOT NULL DEFAULT 1 COMMENT 'ä¸¥é‡ç¨‹åº¦(1-20)',
    severity ENUM('mild', 'moderate', 'severe') COMMENT 'è½»åº¦/ä¸­åº¦/é‡åº¦',
    
    -- åŸå› æ ‡ç­¾ï¼ˆJSONæ ¼å¼å­˜å‚¨ï¼‰
    cause_labels JSON COMMENT 'åŸå› æ ‡ç­¾æ•°ç»„',
    
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
    
    FOREIGN KEY (assessment_id) REFERENCES assessments(id) ON DELETE CASCADE,
    INDEX idx_assessment_id (assessment_id),
    INDEX idx_symptom_id (symptom_id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='è¯„ä¼°ç—‡çŠ¶è¯¦æƒ…è¡¨';
```

---

#### è¡¨4ï¼šç—‡çŠ¶åº“è¡¨ (symptom_library)
```sql
CREATE TABLE symptom_library (
    id INT PRIMARY KEY AUTO_INCREMENT,
    name VARCHAR(100) NOT NULL UNIQUE COMMENT 'ç—‡çŠ¶åç§°',
    color_region ENUM('red', 'green', 'yellow', 'blue') COMMENT 'é¢œè‰²åŒºåŸŸ',
    organ VARCHAR(100) COMMENT 'æ‰€å±è„è…‘',
    
    -- åŸå› æ ‡ç­¾ï¼ˆJSONæ ¼å¼ï¼‰
    causes JSON COMMENT 'åŸå› æ ‡ç­¾æ•°ç»„ï¼ŒåŒ…å«labelå’Œdetail',
    warnings JSON COMMENT 'é¢„è­¦ä¿¡æ¯æ•°ç»„',
    taboos JSON COMMENT 'ç¦å¿Œäº‹é¡¹æ•°ç»„',
    
    severity ENUM('mild', 'moderate', 'severe') DEFAULT 'mild' COMMENT 'é»˜è®¤ä¸¥é‡ç¨‹åº¦',
    is_active BOOLEAN DEFAULT TRUE COMMENT 'æ˜¯å¦å¯ç”¨',
    
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'æ›´æ–°æ—¶é—´',
    
    INDEX idx_name (name),
    INDEX idx_organ (organ)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='ç—‡çŠ¶åº“è¡¨';
```

---

#### è¡¨5ï¼šåˆ†æç»“æœè¡¨ (analysis_results)
```sql
CREATE TABLE analysis_results (
    id INT PRIMARY KEY AUTO_INCREMENT,
    assessment_id INT NOT NULL COMMENT 'è¯„ä¼°è®°å½•ID',
    
    -- ç—…å› åˆ†æï¼ˆJSONæ ¼å¼ï¼‰
    cause_analysis JSON COMMENT 'ç—…å› åˆ†æï¼šå¾®å¾ªç¯ã€ä½“è´¨ã€æ¯’ç´ ç­‰8ç»´åº¦',
    
    -- è„è…‘åˆ†æï¼ˆJSONæ ¼å¼ï¼‰
    organ_analysis JSON COMMENT 'è„è…‘åˆ†æï¼šè‚ã€èƒƒã€è‚¾ã€è„¾ç­‰',
    
    -- ä½“è´¨åˆ†æï¼ˆJSONæ ¼å¼ï¼‰
    constitution_analysis JSON COMMENT 'ä½“è´¨åˆ†æï¼šè¡€è™šã€å¯’å‡‰ã€æ°”è™šç­‰9ç§ä½“è´¨',
    
    -- æ³¨æ„äº‹é¡¹ï¼ˆJSONæ ¼å¼ï¼‰
    precautions JSON COMMENT 'æ³¨æ„äº‹é¡¹ï¼šè¡°è€ã€å‰¯ä½œç”¨ã€è„¾ã€èƒƒç­‰',
    
    -- ç¦å¿Œäº‹é¡¹ï¼ˆJSONæ ¼å¼ï¼‰
    taboos JSON COMMENT 'ç¦å¿Œäº‹é¡¹ï¼šæ²¹è…»ã€é…’ã€ç”Ÿå†·ç­‰',
    
    -- æƒ…ç»ªçŠ¶æ€ï¼ˆJSONæ ¼å¼ï¼‰
    emotion_analysis JSON COMMENT 'æƒ…ç»ªçŠ¶æ€ï¼šæ€’ã€å‹åŠ›ã€æ€ã€æŠ‘éƒç­‰',
    
    -- å¥åº·è¶‹åŠ¿ï¼ˆJSONæ ¼å¼ï¼‰
    health_trends JSON COMMENT 'å¥åº·è¶‹åŠ¿ï¼šå¤–ä¼¤ã€é—ä¼ ã€é«˜è¡€å‹ç­‰',
    
    -- ç”Ÿæ´»ä¹ æƒ¯ï¼ˆJSONæ ¼å¼ï¼‰
    lifestyle_habits JSON COMMENT 'ç”Ÿæ´»ä¹ æƒ¯ï¼šç†¬å¤œã€ç”¨çœ¼è¿‡åº¦ã€è¿‡åŠ³ç­‰',
    
    -- è¥å…»åˆ†æï¼ˆJSONæ ¼å¼ï¼‰
    mineral_deficiency JSON COMMENT 'çŸ¿ç‰©è´¨ç¼ºä¹ï¼šé’™ã€é”Œã€ç¡’ç­‰',
    vitamin_deficiency JSON COMMENT 'ç»´ç”Ÿç´ ç¼ºä¹ï¼šAã€Cã€Eã€Bæ—ç­‰',
    
    -- æ€»ä½“è¯„ä¼°
    overall_health_score DECIMAL(5,2) COMMENT 'æ€»ä½“å¥åº·è¯„åˆ†(0-100)',
    health_level ENUM('excellent', 'good', 'fair', 'poor') COMMENT 'å¥åº·ç­‰çº§',
    primary_issues JSON COMMENT 'ä¸»è¦é—®é¢˜åˆ—è¡¨ï¼ˆJSONæ•°ç»„ï¼‰',
    recommendations TEXT COMMENT 'è°ƒç†å»ºè®®',
    
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ†ææ—¶é—´',
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'æ›´æ–°æ—¶é—´',
    
    FOREIGN KEY (assessment_id) REFERENCES assessments(id) ON DELETE CASCADE,
    INDEX idx_assessment_id (assessment_id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='åˆ†æç»“æœè¡¨';
```

---

#### è¡¨6ï¼šè°ƒç†æ–¹æ¡ˆè¡¨ (health_plans)
```sql
CREATE TABLE health_plans (
    id INT PRIMARY KEY AUTO_INCREMENT,
    assessment_id INT NOT NULL COMMENT 'è¯„ä¼°è®°å½•ID',
    practitioner_id INT COMMENT 'è°ƒç†å¸ˆIDï¼ˆåˆ›å»ºäººï¼‰',
    
    plan_title VARCHAR(200) NOT NULL COMMENT 'æ–¹æ¡ˆæ ‡é¢˜',
    plan_content TEXT COMMENT 'æ–¹æ¡ˆè¯¦ç»†å†…å®¹',
    diet_advice TEXT COMMENT 'é¥®é£Ÿå»ºè®®',
    lifestyle_advice TEXT COMMENT 'ç”Ÿæ´»å»ºè®®',
    supplement_recommendation TEXT COMMENT 'è¥å…»è¡¥å……å»ºè®®',
    
    status ENUM('draft', 'approved', 'rejected', 'completed') DEFAULT 'draft' COMMENT 'æ–¹æ¡ˆçŠ¶æ€',
    
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'æ›´æ–°æ—¶é—´',
    
    FOREIGN KEY (assessment_id) REFERENCES assessments(id) ON DELETE CASCADE,
    FOREIGN KEY (practitioner_id) REFERENCES users(id) ON DELETE SET NULL,
    INDEX idx_assessment_id (assessment_id),
    INDEX idx_practitioner_id (practitioner_id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='è°ƒç†æ–¹æ¡ˆè¡¨';
```

---

#### è¡¨7ï¼šæŠ¥å‘Šæ–‡ä»¶è¡¨ (reports)
```sql
CREATE TABLE reports (
    id INT PRIMARY KEY AUTO_INCREMENT,
    assessment_id INT NOT NULL COMMENT 'è¯„ä¼°è®°å½•ID',
    user_id INT NOT NULL COMMENT 'ç”¨æˆ·ID',
    
    report_type ENUM('assessment', 'comparison', 'trend', 'plan') NOT NULL COMMENT 'æŠ¥å‘Šç±»å‹',
    report_url VARCHAR(500) NOT NULL COMMENT 'æŠ¥å‘Šæ–‡ä»¶URL',
    file_name VARCHAR(255) NOT NULL COMMENT 'æ–‡ä»¶å',
    file_size INT COMMENT 'æ–‡ä»¶å¤§å°(å­—èŠ‚)',
    
    is_generated BOOLEAN DEFAULT TRUE COMMENT 'æ˜¯å¦å·²ç”Ÿæˆ',
    download_count INT DEFAULT 0 COMMENT 'ä¸‹è½½æ¬¡æ•°',
    
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT 'ç”Ÿæˆæ—¶é—´',
    
    FOREIGN KEY (assessment_id) REFERENCES assessments(id) ON DELETE CASCADE,
    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE,
    INDEX idx_assessment_id (assessment_id),
    INDEX idx_user_id (user_id),
    INDEX idx_report_type (report_type)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='æŠ¥å‘Šæ–‡ä»¶è¡¨';
```

---

#### è¡¨8ï¼šç³»ç»Ÿé…ç½®è¡¨ (system_config)
```sql
CREATE TABLE system_config (
    id INT PRIMARY KEY AUTO_INCREMENT,
    config_key VARCHAR(100) NOT NULL UNIQUE COMMENT 'é…ç½®é”®',
    config_value TEXT COMMENT 'é…ç½®å€¼',
    description VARCHAR(500) COMMENT 'é…ç½®æè¿°',
    
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'æ›´æ–°æ—¶é—´',
    
    INDEX idx_config_key (config_key)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='ç³»ç»Ÿé…ç½®è¡¨';
```

---

## å››ã€åç«¯APIè®¾è®¡

### 4.1 APIåŸºç¡€è§„èŒƒ

```
åŸºç¡€URL: https://api.yuanqiyuanliu.com/v1
è®¤è¯æ–¹å¼: JWT Token
è¯·æ±‚æ ¼å¼: JSON
å“åº”æ ¼å¼: JSON
```

---

### 4.2 ç”¨æˆ·è®¤è¯API

#### 4.2.1 ç”¨æˆ·æ³¨å†Œ
```
POST /auth/register

è¯·æ±‚ä½“ï¼š
{
  "username": "user123",
  "password": "password123",
  "real_name": "å¼ ä¸‰",
  "phone": "13800138000",
  "email": "user@example.com",
  "role": "customer"
}

å“åº”ï¼š
{
  "code": 200,
  "message": "æ³¨å†ŒæˆåŠŸ",
  "data": {
    "user_id": 123,
    "username": "user123",
    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
  }
}
```

---

#### 4.2.2 ç”¨æˆ·ç™»å½•
```
POST /auth/login

è¯·æ±‚ä½“ï¼š
{
  "username": "user123",
  "password": "password123"
}

å“åº”ï¼š
{
  "code": 200,
  "message": "ç™»å½•æˆåŠŸ",
  "data": {
    "user_id": 123,
    "username": "user123",
    "real_name": "å¼ ä¸‰",
    "role": "customer",
    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
    "expires_in": 86400
  }
}
```

---

### 4.3 è¯„ä¼°æ•°æ®API

#### 4.3.1 åˆ›å»ºæ–°è¯„ä¼°
```
POST /assessments

è¯·æ±‚å¤´ï¼š
Authorization: Bearer {token}

è¯·æ±‚ä½“ï¼š
{
  "real_name": "æ¸©éºŸæ¹˜",
  "age": 53,
  "gender": "male",
  "height": 158,
  "weight": 50.3,
  "waist_circumference": 72,
  "remarks": "12æœˆ1æ—¥å¼€å§‹çœ¼ç›å‡ºç°é‡å½±ï¼Œä¼´éšå·¦è¾¹å¤´ç–¼",
  "symptoms": [
    {
      "symptom_id": 1,
      "symptom_name": "å¤´ç–¼",
      "side": "left",
      "intensity": 19,
      "severity": "moderate",
      "cause_labels": ["å¾®å¾ªç¯", "è‚"]
    },
    ...
  ]
}

å“åº”ï¼š
{
  "code": 200,
  "message": "è¯„ä¼°åˆ›å»ºæˆåŠŸ",
  "data": {
    "assessment_id": 456,
    "assessment_code": "YA202601270001",
    "assessment_date": "2026-01-27T20:44:04Z",
    "status": "analyzed"
  }
}
```

---

#### 4.3.2 è·å–è¯„ä¼°è¯¦æƒ…
```
GET /assessments/{assessment_id}

è¯·æ±‚å¤´ï¼š
Authorization: Bearer {token}

å“åº”ï¼š
{
  "code": 200,
  "message": "è·å–æˆåŠŸ",
  "data": {
    "assessment": {
      "id": 456,
      "assessment_code": "YA202601270001",
      "real_name": "æ¸©éºŸæ¹˜",
      "age": 53,
      "gender": "male",
      "height": 158,
      "weight": 50.3,
      "waist_circumference": 72,
      "remarks": "12æœˆ1æ—¥å¼€å§‹çœ¼ç›å‡ºç°é‡å½±ï¼Œä¼´éšå·¦è¾¹å¤´ç–¼",
      "total_symptoms": 34,
      "total_score": 238,
      "avg_score": 7.0,
      "status": "analyzed"
    },
    "symptoms": [
      {
        "symptom_id": 1,
        "symptom_name": "å¤´ç–¼",
        "side": "left",
        "intensity": 19,
        "severity": "moderate",
        "cause_labels": ["å¾®å¾ªç¯", "è‚"]
      },
      ...
    ],
    "analysis": {
      "cause_analysis": {
        "å¾®å¾ªç¯": 19,
        "ä½“è´¨": 18,
        "æ¯’ç´ ": 18,
        "ä¹ æƒ¯": 12,
        "è¥å…»": 11,
        "å†…åˆ†æ³Œ": 6,
        "å…ç–«åŠ›": 4,
        "æ°”è¡€": 2
      },
      "organ_analysis": {
        "è‚": 16,
        "èƒƒ": 5,
        "è‚¾": 5,
        "è„¾": 4,
        "ç»¼åˆ": 5
      },
      "constitution_analysis": {
        "è¡€è™š": 15,
        "å¯’å‡‰": 13,
        "æ°”è™š": 13,
        "é˜³è™š": 6,
        "é˜´è™š": 6,
        "è¡€ç˜€": 4,
        "æ°”éƒ": 1,
        "æ¹¿çƒ­": 1,
        "ç—°æ¹¿": 1
      },
      "overall_health_score": 68.5,
      "health_level": "fair",
      "recommendations": "å»ºè®®è°ƒç†è‚è‚¾åŠŸèƒ½ï¼Œæ”¹å–„è¡€æ¶²å¾ªç¯..."
    }
  }
}
```

---

#### 4.3.3 è·å–ç”¨æˆ·è¯„ä¼°åˆ—è¡¨
```
GET /assessments?user_id={user_id}&page=1&limit=20

è¯·æ±‚å¤´ï¼š
Authorization: Bearer {token}

å“åº”ï¼š
{
  "code": 200,
  "message": "è·å–æˆåŠŸ",
  "data": {
    "total": 10,
    "page": 1,
    "limit": 20,
    "assessments": [
      {
        "id": 456,
        "assessment_code": "YA202601270001",
        "assessment_date": "2026-01-27T20:44:04Z",
        "real_name": "æ¸©éºŸæ¹˜",
        "total_symptoms": 34,
        "total_score": 238,
        "status": "analyzed"
      },
      ...
    ]
  }
}
```

---

#### 4.3.4 è¯„ä¼°å¯¹æ¯”åˆ†æ
```
POST /assessments/compare

è¯·æ±‚å¤´ï¼š
Authorization: Bearer {token}

è¯·æ±‚ä½“ï¼š
{
  "assessment_ids": [456, 457]
}

å“åº”ï¼š
{
  "code": 200,
  "message": "å¯¹æ¯”åˆ†ææˆåŠŸ",
  "data": {
    "comparison": {
      "assessment_a": {
        "id": 456,
        "assessment_code": "YA202601270001",
        "assessment_date": "2026-01-27T20:44:04Z"
      },
      "assessment_b": {
        "id": 457,
        "assessment_code": "YA202602270001",
        "assessment_date": "2026-02-27T20:44:04Z"
      },
      "symptom_changes": {
        "improved": ["å¤´ç–¼", "çœ¼èƒ€"],
        "worsened": ["è‚©é…¸", "è…°é…¸ç—›"],
        "new": ["å¤±çœ "],
        "resolved": ["çœ¼å¹²æ¶©"]
      },
      "score_changes": {
        "total_score": {
          "before": 238,
          "after": 189,
          "change": -49,
          "percentage": -20.6
        },
        "avg_score": {
          "before": 7.0,
          "after": 5.6,
          "change": -1.4
        }
      },
      "health_trend": "improving"
    }
  }
}
```

---

### 4.4 ç—‡çŠ¶åº“API

#### 4.4.1 è·å–ç—‡çŠ¶åº“
```
GET /symptoms?page=1&limit=50&organ=è‚&search=å¤´ç–¼

è¯·æ±‚å¤´ï¼š
Authorization: Bearer {token}

å“åº”ï¼š
{
  "code": 200,
  "message": "è·å–æˆåŠŸ",
  "data": {
    "total": 299,
    "page": 1,
    "limit": 50,
    "symptoms": [
      {
        "id": 1,
        "name": "å¤´ç–¼",
        "color_region": "red",
        "organ": "å¿ƒã€å°è‚ ",
        "causes": [
          {
            "label": "è¥å…»",
            "detail": "å¤´é¢ˆéƒ¨å¤–ä¼¤"
          },
          {
            "label": "å…ç–«åŠ›",
            "detail": "å¤´é¢ˆéƒ¨å¤–ä¼¤"
          }
        ],
        "warnings": ["æ³¨æ„è‚¾è„ç–¾ç—…"],
        "taboos": ["å¿Œè‚¥è‚‰æ²¹è…»", "å°‘åƒå¯’å‡‰é£Ÿç‰©"],
        "severity": "moderate"
      },
      ...
    ]
  }
}
```

---

### 4.5 æŠ¥å‘Šç”ŸæˆAPI

#### 4.5.1 ç”ŸæˆPDFæŠ¥å‘Š
```
POST /reports/generate

è¯·æ±‚å¤´ï¼š
Authorization: Bearer {token}

è¯·æ±‚ä½“ï¼š
{
  "assessment_id": 456,
  "report_type": "assessment"
}

å“åº”ï¼š
{
  "code": 200,
  "message": "æŠ¥å‘Šç”ŸæˆæˆåŠŸ",
  "data": {
    "report_id": 789,
    "report_url": "https://cdn.yuanqiyuanliu.com/reports/YA202601270001.pdf",
    "file_name": "YA202601270001.pdf",
    "file_size": 1524288,
    "expires_in": 7200
  }
}
```

---

### 4.6 åå°ç®¡ç†API

#### 4.6.1 è·å–æ‰€æœ‰è¯„ä¼°ï¼ˆç®¡ç†å‘˜ï¼‰
```
GET /admin/assessments?page=1&limit=50&status=analyzed&start_date=2026-01-01&end_date=2026-01-31

è¯·æ±‚å¤´ï¼š
Authorization: Bearer {admin_token}

å“åº”ï¼š
{
  "code": 200,
  "message": "è·å–æˆåŠŸ",
  "data": {
    "total": 150,
    "page": 1,
    "limit": 50,
    "statistics": {
      "total_assessments": 150,
      "today_assessments": 5,
      "pending_analyses": 3,
      "completed_reports": 145
    },
    "assessments": [
      {
        "id": 456,
        "assessment_code": "YA202601270001",
        "real_name": "æ¸©éºŸæ¹˜",
        "phone": "13509289399",
        "age": 53,
        "gender": "male",
        "assessment_date": "2026-01-27T20:44:04Z",
        "total_symptoms": 34,
        "total_score": 238,
        "status": "analyzed"
      },
      ...
    ]
  }
}
```

---

## äº”ã€æ•°æ®åˆ†æå¼•æ“è®¾è®¡

### 5.1 è‡ªåŠ¨åˆ†æé€»è¾‘

å½“å®¢æˆ·æäº¤è¯„ä¼°æ•°æ®åï¼Œåç«¯è‡ªåŠ¨æ‰§è¡Œä»¥ä¸‹åˆ†æï¼š

```javascript
// ç¤ºä¾‹ï¼šåˆ†æå¼•æ“æ ¸å¿ƒé€»è¾‘
class HealthAnalysisEngine {
  
  // ä¸»åˆ†æå‡½æ•°
  async analyzeAssessment(assessmentData) {
    const symptoms = assessmentData.symptoms;
    
    // 1. è®¡ç®—ç—…å› åˆ†æ
    const causeAnalysis = this.analyzeCauses(symptoms);
    
    // 2. è®¡ç®—è„è…‘åˆ†æ
    const organAnalysis = this.analyzeOrgans(symptoms);
    
    // 3. è®¡ç®—ä½“è´¨åˆ†æ
    const constitutionAnalysis = this.analyzeConstitution(symptoms);
    
    // 4. è®¡ç®—æ³¨æ„äº‹é¡¹å’Œç¦å¿Œ
    const precautionsAndTaboos = this.analyzePrecautionsAndTaboos(symptoms);
    
    // 5. è®¡ç®—æƒ…ç»ªçŠ¶æ€
    const emotionAnalysis = this.analyzeEmotions(symptoms);
    
    // 6. è®¡ç®—å¥åº·è¶‹åŠ¿
    const healthTrends = this.analyzeTrends(symptoms);
    
    // 7. è®¡ç®—ç”Ÿæ´»ä¹ æƒ¯
    const lifestyleHabits = this.analyzeLifestyle(symptoms);
    
    // 8. è®¡ç®—è¥å…»ç¼ºä¹
    const nutrientDeficiency = this.analyzeNutrients(symptoms);
    
    // 9. è®¡ç®—æ€»ä½“å¥åº·è¯„åˆ†
    const overallHealth = this.calculateOverallHealth(
      causeAnalysis,
      organAnalysis,
      constitutionAnalysis
    );
    
    // 10. ç”Ÿæˆè°ƒç†å»ºè®®
    const recommendations = this.generateRecommendations(
      causeAnalysis,
      organAnalysis,
      constitutionAnalysis,
      nutrientDeficiency
    );
    
    return {
      cause_analysis: causeAnalysis,
      organ_analysis: organAnalysis,
      constitution_analysis: constitutionAnalysis,
      precautions: precautionsAndTaboos.precautions,
      taboos: precautionsAndTaboos.taboos,
      emotion_analysis: emotionAnalysis,
      health_trends: healthTrends,
      lifestyle_habits: lifestyleHabits,
      mineral_deficiency: nutrientDeficiency.minerals,
      vitamin_deficiency: nutrientDeficiency.vitamins,
      overall_health_score: overallHealth.score,
      health_level: overallHealth.level,
      primary_issues: overallHealth.issues,
      recommendations: recommendations
    };
  }
  
  // ç—…å› åˆ†æ
  analyzeCauses(symptoms) {
    const causes = {
      'å¾®å¾ªç¯': 0,
      'ä½“è´¨': 0,
      'æ¯’ç´ ': 0,
      'ä¹ æƒ¯': 0,
      'è¥å…»': 0,
      'å†…åˆ†æ³Œ': 0,
      'å…ç–«åŠ›': 0,
      'æ°”è¡€': 0
    };
    
    symptoms.forEach(symptom => {
      if (symptom.cause_labels) {
        symptom.cause_labels.forEach(label => {
          if (causes.hasOwnProperty(label)) {
            causes[label] += symptom.intensity;
          }
        });
      }
    });
    
    return causes;
  }
  
  // è„è…‘åˆ†æ
  analyzeOrgans(symptoms) {
    const organs = {
      'è‚': 0,
      'èƒƒ': 0,
      'è‚¾': 0,
      'è„¾': 0,
      'ç»¼åˆ': 0
    };
    
    // ä»ç—‡çŠ¶åº“è·å–æ¯ä¸ªç—‡çŠ¶çš„è„è…‘å½’å±
    symptoms.forEach(symptom => {
      const symptomDetail = this.getSymptomById(symptom.symptom_id);
      if (symptomDetail && symptomDetail.organ) {
        const organNames = symptomDetail.organ.split('ã€');
        organNames.forEach(organ => {
          if (organs.hasOwnProperty(organ)) {
            organs[organ] += symptom.intensity;
          } else {
            organs['ç»¼åˆ'] += symptom.intensity;
          }
        });
      }
    });
    
    return organs;
  }
  
  // ä½“è´¨åˆ†æ
  analyzeConstitution(symptoms) {
    const constitutions = {
      'è¡€è™š': 0,
      'å¯’å‡‰': 0,
      'æ°”è™š': 0,
      'é˜³è™š': 0,
      'é˜´è™š': 0,
      'è¡€ç˜€': 0,
      'æ°”éƒ': 0,
      'æ¹¿çƒ­': 0,
      'ç—°æ¹¿': 0
    };
    
    // åŸºäºç—‡çŠ¶çš„å…³è”åº¦è®¡ç®—ä½“è´¨å€¾å‘
    symptoms.forEach(symptom => {
      const symptomDetail = this.getSymptomById(symptom.symptom_id);
      if (symptomDetail && symptomDetail.causes) {
        symptomDetail.causes.forEach(cause => {
          const constitutionType = this.mapCauseToConstitution(cause.label);
          if (constitutions.hasOwnProperty(constitutionType)) {
            // ä½¿ç”¨ç—‡çŠ¶å¼ºåº¦ä¹˜ä»¥å…³è”ç³»æ•°
            constitutions[constitutionType] += Math.floor(symptom.intensity * 0.5);
          }
        });
      }
    });
    
    return constitutions;
  }
  
  // è®¡ç®—æ€»ä½“å¥åº·è¯„åˆ†
  calculateOverallHealth(causeAnalysis, organAnalysis, constitutionAnalysis) {
    // 1. åŸºäºç—…å› åˆ†æè®¡ç®—åŸºç¡€åˆ†
    const maxPossibleScore = 20 * 8; // å‡è®¾æ¯ä¸ªç—…å› æœ€å¤§åˆ†20ï¼Œå…±8ä¸ªç—…å› 
    const actualScore = Object.values(causeAnalysis).reduce((a, b) => a + b, 0);
    const causeScore = 100 - (actualScore / maxPossibleScore * 100);
    
    // 2. åŸºäºè„è…‘åˆ†æè°ƒæ•´
    const organScore = Math.max(0, 100 - (Object.values(organAnalysis).reduce((a, b) => a + b, 0) / 100 * 50));
    
    // 3. åŸºäºä½“è´¨åˆ†æè°ƒæ•´
    const constitutionScore = Math.max(0, 100 - (Object.values(constitutionAnalysis).reduce((a, b) => a + b, 0) / 100 * 30));
    
    // ç»¼åˆè¯„åˆ†
    const overallScore = (causeScore * 0.5 + organScore * 0.3 + constitutionScore * 0.2).toFixed(2);
    
    // ç¡®å®šå¥åº·ç­‰çº§
    let healthLevel;
    if (overallScore >= 80) healthLevel = 'excellent';
    else if (overallScore >= 60) healthLevel = 'good';
    else if (overallScore >= 40) healthLevel = 'fair';
    else healthLevel = 'poor';
    
    // è¯†åˆ«ä¸»è¦é—®é¢˜
    const primaryIssues = [];
    Object.entries(causeAnalysis)
      .sort((a, b) => b[1] - a[1])
      .slice(0, 3)
      .forEach(([cause, score]) => {
        if (score > 10) {
          primaryIssues.push({
            type: 'cause',
            name: cause,
            score: score
          });
        }
      });
    
    return {
      score: parseFloat(overallScore),
      level: healthLevel,
      issues: primaryIssues
    };
  }
  
  // ç”Ÿæˆè°ƒç†å»ºè®®
  generateRecommendations(causeAnalysis, organAnalysis, constitutionAnalysis, nutrientDeficiency) {
    const recommendations = [];
    
    // 1. åŸºäºç—…å› åˆ†æçš„å»ºè®®
    const topCauses = Object.entries(causeAnalysis)
      .sort((a, b) => b[1] - a[1])
      .slice(0, 2);
    
    topCauses.forEach(([cause, score]) => {
      if (cause === 'å¾®å¾ªç¯' && score > 15) {
        recommendations.push('å»ºè®®è¿›è¡Œé€‚é‡æœ‰æ°§è¿åŠ¨ï¼Œå¦‚æ•£æ­¥ã€å¤ªæï¼Œæ”¹å–„è¡€æ¶²å¾ªç¯ã€‚');
      } else if (cause === 'æ¯’ç´ ' && score > 15) {
        recommendations.push('å»ºè®®å¢åŠ é¥®æ°´é‡ï¼Œå¤šé£Ÿç”¨æ’æ¯’é£Ÿç‰©å¦‚ç»¿è±†ã€æµ·å¸¦ã€‚');
      } else if (cause === 'ä¹ æƒ¯' && score > 15) {
        recommendations.push('å»ºè®®è°ƒæ•´ä½œæ¯ï¼Œé¿å…ç†¬å¤œï¼Œä¿æŒè§„å¾‹ç”Ÿæ´»ã€‚');
      }
    });
    
    // 2. åŸºäºè„è…‘åˆ†æçš„å»ºè®®
    const topOrgans = Object.entries(organAnalysis)
      .sort((a, b) => b[1] - a[1])
      .slice(0, 2);
    
    topOrgans.forEach(([organ, score]) => {
      if (organ === 'è‚' && score > 10) {
        recommendations.push('è‚åŠŸèƒ½åå¼±ï¼Œå»ºè®®å°‘ç†¬å¤œï¼Œé¿å…ç”Ÿæ°”ï¼Œå¤šé£Ÿç”¨ç»¿è‰²è”¬èœã€‚');
      } else if (organ === 'è‚¾' && score > 10) {
        recommendations.push('è‚¾æ°”ä¸è¶³ï¼Œå»ºè®®èŠ‚åˆ¶æˆ¿äº‹ï¼Œå¤šé£Ÿç”¨é»‘è‰²é£Ÿç‰©å¦‚é»‘è±†ã€èŠéº»ã€‚');
      } else if (organ === 'è„¾' && score > 10) {
        recommendations.push('è„¾èƒƒè™šå¼±ï¼Œå»ºè®®å°‘é£Ÿç”Ÿå†·ï¼Œå¤šé£Ÿç”¨å±±è¯ã€å°ç±³ç­‰å¥è„¾é£Ÿç‰©ã€‚');
      }
    });
    
    // 3. åŸºäºä½“è´¨åˆ†æçš„å»ºè®®
    const topConstitutions = Object.entries(constitutionAnalysis)
      .sort((a, b) => b[1] - a[1])
      .slice(0, 2);
    
    topConstitutions.forEach(([constitution, score]) => {
      if (constitution === 'è¡€è™š' && score > 10) {
        recommendations.push('è¡€è™šä½“è´¨ï¼Œå»ºè®®å¤šé£Ÿç”¨çº¢æ£ã€æ¡‚åœ†ã€è èœç­‰è¡¥è¡€é£Ÿç‰©ã€‚');
      } else if (constitution === 'å¯’å‡‰' && score > 10) {
        recommendations.push('å¯’å‡‰ä½“è´¨ï¼Œå»ºè®®å¤šé£Ÿæ¸©çƒ­é£Ÿç‰©ï¼Œå¦‚ç”Ÿå§œã€ç¾Šè‚‰ï¼Œæ³¨æ„ä¿æš–ã€‚');
      } else if (constitution === 'æ°”è™š' && score > 10) {
        recommendations.push('æ°”è™šä½“è´¨ï¼Œå»ºè®®å¤šé£Ÿå±±è¯ã€è²å­ã€é»„èŠªç­‰è¡¥æ°”é£Ÿç‰©ã€‚');
      }
    });
    
    // 4. åŸºäºè¥å…»ç¼ºä¹çš„å»ºè®®
    const topMinerals = Object.entries(nutrientDeficiency.minerals)
      .sort((a, b) => b[1] - a[1])
      .slice(0, 3);
    
    topMinerals.forEach(([mineral, score]) => {
      if (mineral === 'é’™') {
        recommendations.push('ç¼ºé’™ï¼Œå»ºè®®å¤šé£Ÿç”¨ç‰›å¥¶ã€è±†åˆ¶å“ã€æ·±è‰²è”¬èœã€‚');
      } else if (mineral === 'é”Œ') {
        recommendations.push('ç¼ºé”Œï¼Œå»ºè®®å¤šé£Ÿç”¨ç‰¡è›ã€ç‰›è‚‰ã€åšæœã€‚');
      } else if (mineral === 'ç¡’') {
        recommendations.push('ç¼ºç¡’ï¼Œå»ºè®®å¤šé£Ÿç”¨æµ·é±¼ã€é¸¡è›‹ã€å¤§è’œã€‚');
      }
    });
    
    return recommendations.join('\n');
  }
  
  // è¾…åŠ©å‡½æ•°ï¼šè·å–ç—‡çŠ¶è¯¦æƒ…
  getSymptomById(symptomId) {
    // ä»æ•°æ®åº“æŸ¥è¯¢
    // è¿™é‡Œæ˜¯ç¤ºä¾‹é€»è¾‘
    return null;
  }
  
  // è¾…åŠ©å‡½æ•°ï¼šæ˜ å°„ç—…å› åˆ°ä½“è´¨
  mapCauseToConstitution(causeLabel) {
    const mapping = {
      'å¾®å¾ªç¯': 'è¡€ç˜€',
      'æ¯’ç´ ': 'æ¹¿çƒ­',
      'ä½“è´¨': 'æ°”è™š',
      'ä¹ æƒ¯': 'æ°”è™š',
      'è¥å…»': 'è¡€è™š',
      'å†…åˆ†æ³Œ': 'æ°”éƒ',
      'å…ç–«åŠ›': 'é˜³è™š',
      'æ°”è¡€': 'æ°”è¡€'
    };
    return mapping[causeLabel] || 'æ°”è™š';
  }
}
```

---

## å…­ã€å‰ç«¯æ”¹é€ æ–¹æ¡ˆ

### 6.1 å‰ç«¯è¡¨å•æ”¹é€ 

#### ä¿®æ”¹æäº¤é€»è¾‘
```javascript
// åŸæ¥çš„é€»è¾‘ï¼šä¸‹è½½JSONæ–‡ä»¶
function submitAssessment() {
  const formData = collectFormData();
  const jsonData = JSON.stringify(formData, null, 2);
  downloadFile(jsonData, `health_assessment_${Date.now()}.json`);
}

// æ–°çš„é€»è¾‘ï¼šå‘é€åˆ°API
async function submitAssessment() {
  const formData = collectFormData();
  
  try {
    // æ˜¾ç¤ºåŠ è½½æç¤º
    showLoading('æ­£åœ¨æäº¤è¯„ä¼°æ•°æ®...');
    
    // å‘é€åˆ°åç«¯API
    const response = await fetch('https://api.yuanqiyuanliu.com/v1/assessments', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
        'Authorization': `Bearer ${getAuthToken()}`
      },
      body: JSON.stringify(formData)
    });
    
    const result = await response.json();
    
    if (result.code === 200) {
      // æäº¤æˆåŠŸ
      hideLoading();
      showSuccess('è¯„ä¼°æäº¤æˆåŠŸï¼');
      
      // å¯é€‰ï¼šè‡ªåŠ¨è·³è½¬åˆ°æŠ¥å‘Šé¡µé¢
      window.location.href = `/report.html?assessment_id=${result.data.assessment_id}`;
    } else {
      // æäº¤å¤±è´¥
      hideLoading();
      showError(result.message || 'æäº¤å¤±è´¥ï¼Œè¯·é‡è¯•');
    }
  } catch (error) {
    hideLoading();
    showError('ç½‘ç»œé”™è¯¯ï¼Œè¯·æ£€æŸ¥è¿æ¥åé‡è¯•');
    console.error('æäº¤è¯„ä¼°å¤±è´¥:', error);
  }
}
```

---

### 6.2 ç®¡ç†åå°æ”¹é€ 

#### æ”¹é€ æ•°æ®åŠ è½½é€»è¾‘
```javascript
// åŸæ¥çš„é€»è¾‘ï¼šè¯»å–æœ¬åœ°JSONæ–‡ä»¶
async function loadAssessmentData() {
  try {
    const response = await fetch('first_assessment_20251213.json');
    const data = await response.json();
    renderAssessment(data);
  } catch (error) {
    console.error('åŠ è½½æ•°æ®å¤±è´¥:', error);
  }
}

// æ–°çš„é€»è¾‘ï¼šä»APIè·å–æ•°æ®
async function loadAssessmentData(assessmentId) {
  try {
    showLoading('æ­£åœ¨åŠ è½½æ•°æ®...');
    
    const response = await fetch(`https://api.yuanqiyuanliu.com/v1/assessments/${assessmentId}`, {
      headers: {
        'Authorization': `Bearer ${getAuthToken()}`
      }
    });
    
    const result = await response.json();
    
    if (result.code === 200) {
      hideLoading();
      renderAssessment(result.data);
    } else {
      hideLoading();
      showError(result.message || 'åŠ è½½æ•°æ®å¤±è´¥');
    }
  } catch (error) {
    hideLoading();
    showError('ç½‘ç»œé”™è¯¯ï¼Œè¯·é‡è¯•');
    console.error('åŠ è½½æ•°æ®å¤±è´¥:', error);
  }
}

// åŠ è½½è¯„ä¼°åˆ—è¡¨
async function loadAssessmentList(page = 1) {
  try {
    showLoading('æ­£åœ¨åŠ è½½åˆ—è¡¨...');
    
    const response = await fetch(`https://api.yuanqiyuanliu.com/v1/assessments?page=${page}&limit=20`, {
      headers: {
        'Authorization': `Bearer ${getAuthToken()}`
      }
    });
    
    const result = await response.json();
    
    if (result.code === 200) {
      hideLoading();
      renderAssessmentList(result.data.assessments);
      updatePagination(result.data.total, page, 20);
    } else {
      hideLoading();
      showError(result.message || 'åŠ è½½åˆ—è¡¨å¤±è´¥');
    }
  } catch (error) {
    hideLoading();
    showError('ç½‘ç»œé”™è¯¯ï¼Œè¯·é‡è¯•');
    console.error('åŠ è½½åˆ—è¡¨å¤±è´¥:', error);
  }
}
```

---

## ä¸ƒã€éƒ¨ç½²æ¶æ„

### 7.1 æ¨èæ¶æ„å›¾

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   å®¢æˆ·ç«¯    â”‚
                    â”‚  (å‰ç«¯è¡¨å•)  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                           â”‚ HTTPS
                           â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  è´Ÿè½½å‡è¡¡   â”‚
                    â”‚   (Nginx)   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â–¼               â–¼               â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Node.js     â”‚ â”‚ Node.js     â”‚ â”‚ Node.js     â”‚
    â”‚ å®ä¾‹1       â”‚ â”‚ å®ä¾‹2       â”‚ â”‚ å®ä¾‹3       â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
           â”‚                â”‚                â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  MySQLä¸»åº“  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                           â”‚ å¤åˆ¶
                           â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ MySQLä»åº“   â”‚
                    â”‚  (è¯»å†™åˆ†ç¦»)  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 7.2 æœåŠ¡å™¨é…ç½®å»ºè®®

#### åº”ç”¨æœåŠ¡å™¨
- **CPU**ï¼š4æ ¸ä»¥ä¸Š
- **å†…å­˜**ï¼š8GBä»¥ä¸Š
- **å­˜å‚¨**ï¼šSSD 100GBä»¥ä¸Š
- **æ“ä½œç³»ç»Ÿ**ï¼šUbuntu 20.04 / CentOS 8

#### æ•°æ®åº“æœåŠ¡å™¨
- **CPU**ï¼š8æ ¸ä»¥ä¸Š
- **å†…å­˜**ï¼š16GBä»¥ä¸Š
- **å­˜å‚¨**ï¼šSSD 500GBä»¥ä¸Šï¼ˆç”¨äºæ•°æ®å­˜å‚¨ï¼‰
- **æ“ä½œç³»ç»Ÿ**ï¼šUbuntu 20.04 / CentOS 8

---

### 7.3 éƒ¨ç½²æ­¥éª¤

#### æ­¥éª¤1ï¼šå‡†å¤‡æœåŠ¡å™¨ç¯å¢ƒ
```bash
# å®‰è£…Node.js
curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -
sudo apt-get install -y nodejs

# å®‰è£…MySQL
sudo apt-get install -y mysql-server

# å®‰è£…Nginx
sudo apt-get install -y nginx

# å®‰è£…PM2ï¼ˆè¿›ç¨‹ç®¡ç†ï¼‰
sudo npm install -g pm2
```

---

#### æ­¥éª¤2ï¼šåˆå§‹åŒ–æ•°æ®åº“
```bash
# ç™»å½•MySQL
mysql -u root -p

# åˆ›å»ºæ•°æ®åº“
CREATE DATABASE yuanqi_health CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

# åˆ›å»ºç”¨æˆ·
CREATE USER 'yuanqi_user'@'localhost' IDENTIFIED BY 'your_password';

# æˆæƒ
GRANT ALL PRIVILEGES ON yuanqi_health.* TO 'yuanqi_user'@'localhost';
FLUSH PRIVILEGES;

# å¯¼å…¥è¡¨ç»“æ„
mysql -u yuanqi_user -p yuanqi_health < database_schema.sql
```

---

#### æ­¥éª¤3ï¼šé…ç½®åç«¯åº”ç”¨
```bash
# å…‹éš†ä»£ç 
git clone https://github.com/your-repo/yuanqi-health-backend.git
cd yuanqi-health-backend

# å®‰è£…ä¾èµ–
npm install

# é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env
nano .env
```

**.envé…ç½®ç¤ºä¾‹**ï¼š
```env
# æœåŠ¡å™¨é…ç½®
PORT=3000
NODE_ENV=production

# æ•°æ®åº“é…ç½®
DB_HOST=localhost
DB_PORT=3306
DB_USER=yuanqi_user
DB_PASSWORD=your_password
DB_NAME=yuanqi_health

# JWTé…ç½®
JWT_SECRET=your_jwt_secret_key
JWT_EXPIRES_IN=86400

# æ–‡ä»¶ä¸Šä¼ é…ç½®
UPLOAD_DIR=./uploads
MAX_FILE_SIZE=10485760

# CORSé…ç½®
CORS_ORIGIN=https://yuanqiyuanliu.com
```

---

#### æ­¥éª¤4ï¼šå¯åŠ¨åº”ç”¨
```bash
# ä½¿ç”¨PM2å¯åŠ¨
pm2 start app.js --name yuanqi-backend

# è®¾ç½®å¼€æœºè‡ªå¯
pm2 startup
pm2 save
```

---

#### æ­¥éª¤5ï¼šé…ç½®Nginxåå‘ä»£ç†
```nginx
# /etc/nginx/sites-available/yuanqi-health
upstream yuanqi_backend {
    server localhost:3000;
}

server {
    listen 80;
    server_name api.yuanqiyuanliu.com;
    
    # é‡å®šå‘åˆ°HTTPS
    return 301 https://$server_name$request_uri;
}

server {
    listen 443 ssl http2;
    server_name api.yuanqiyuanliu.com;
    
    # SSLè¯ä¹¦é…ç½®
    ssl_certificate /etc/letsencrypt/live/api.yuanqiyuanliu.com/fullchain.pem;
    ssl_certificate_key /etc/letsencrypt/live/api.yuanqiyuanliu.com/privkey.pem;
    
    # å®‰å…¨é…ç½®
    add_header X-Frame-Options "SAMEORIGIN" always;
    add_header X-Content-Type-Options "nosniff" always;
    add_header X-XSS-Protection "1; mode=block" always;
    
    # ä»£ç†åˆ°åç«¯
    location / {
        proxy_pass http://yuanqi_backend;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        
        # è¶…æ—¶é…ç½®
        proxy_connect_timeout 60s;
        proxy_send_timeout 60s;
        proxy_read_timeout 60s;
    }
    
    # æ—¥å¿—é…ç½®
    access_log /var/log/nginx/yuanqi-backend-access.log;
    error_log /var/log/nginx/yuanqi-backend-error.log;
}
```

---

## å…«ã€æ•°æ®è¿ç§»æ–¹æ¡ˆ

### 8.1 ä»JSONè¿ç§»åˆ°MySQL

#### è¿ç§»è„šæœ¬ç¤ºä¾‹
```javascript
// migrate-json-to-mysql.js
const mysql = require('mysql2/promise');
const fs = require('fs');
const path = require('path');

// æ•°æ®åº“è¿æ¥é…ç½®
const dbConfig = {
  host: 'localhost',
  user: 'yuanqi_user',
  password: 'your_password',
  database: 'yuanqi_health'
};

async function migrateJsonData() {
  const connection = await mysql.createConnection(dbConfig);
  
  try {
    // 1. è¯»å–JSONæ–‡ä»¶
    const jsonFiles = [
      'first_assessment_20251213.json',
      'second_assessment_20260113.json',
      'sample_assessment_data.json'
    ];
    
    for (const jsonFile of jsonFiles) {
      console.log(`æ­£åœ¨å¤„ç†æ–‡ä»¶: ${jsonFile}`);
      const filePath = path.join(__dirname, 'data', jsonFile);
      const jsonData = JSON.parse(fs.readFileSync(filePath, 'utf8'));
      
      // 2. æ’å…¥ç”¨æˆ·ä¿¡æ¯
      const [userResult] = await connection.execute(
        'INSERT INTO users (username, password_hash, real_name, phone, role) VALUES (?, ?, ?, ?, ?)',
        [
          `user_${Date.now()}`,
          '$2b$10$dummy_hash', // éœ€è¦ç”ŸæˆçœŸå®å¯†ç å“ˆå¸Œ
          jsonData.åŸºæœ¬ä¿¡æ¯.å§“å,
          jsonData.åŸºæœ¬ä¿¡æ¯.æ‰‹æœºå· || null,
          'customer'
        ]
      );
      
      const userId = userResult.insertId;
      
      // 3. æ’å…¥è¯„ä¼°è®°å½•
      const [assessmentResult] = await connection.execute(
        `INSERT INTO assessments (
          user_id, assessment_code, assessment_date, real_name, age, gender,
          height, weight, waist_circumference, remarks, total_symptoms, total_score, avg_score, status
        ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)`,
        [
          userId,
          `YA${Date.now()}`,
          jsonData.åŸºæœ¬ä¿¡æ¯.æ£€æµ‹æ—¥æœŸ,
          jsonData.åŸºæœ¬ä¿¡æ¯.å§“å,
          jsonData.åŸºæœ¬ä¿¡æ¯.å¹´é¾„,
          jsonData.åŸºæœ¬ä¿¡æ¯.æ€§åˆ« === 'ç”·' ? 'male' : 'female',
          jsonData.åŸºæœ¬ä¿¡æ¯.èº«é«˜ || null,
          jsonData.åŸºæœ¬ä¿¡æ¯.ä½“é‡ || null,
          jsonData.åŸºæœ¬ä¿¡æ¯.è…°å›´ || null,
          jsonData.åŸºæœ¬ä¿¡æ¯.å¤‡æ³¨ || null,
          jsonData.ç—‡çŠ¶æ•°æ®.length,
          jsonData.ç—‡çŠ¶æ•°æ®.reduce((sum, s) => sum + s.å¼ºåº¦, 0),
          (jsonData.ç—‡çŠ¶æ•°æ®.reduce((sum, s) => sum + s.å¼ºåº¦, 0) / jsonData.ç—‡çŠ¶æ•°æ®.length).toFixed(2),
          'analyzed'
        ]
      );
      
      const assessmentId = assessmentResult.insertId;
      
      // 4. æ’å…¥ç—‡çŠ¶è¯¦æƒ…
      for (const symptom of jsonData.ç—‡çŠ¶æ•°æ®) {
        await connection.execute(
          `INSERT INTO assessment_symptoms (
            assessment_id, symptom_id, symptom_name, side, intensity, severity, cause_labels
          ) VALUES (?, ?, ?, ?, ?, ?, ?)`,
          [
            assessmentId,
            symptom.id || null,
            symptom.åç§°,
            symptom.ä½ç½® === 'å·¦ä¾§' ? 'left' : (symptom.ä½ç½® === 'å³ä¾§' ? 'right' : 'both'),
            symptom.å¼ºåº¦,
            symptom.å¼ºåº¦ <= 6 ? 'mild' : (symptom.å¼ºåº¦ <= 13 ? 'moderate' : 'severe'),
            JSON.stringify(symptom.åŸå› æ ‡ç­¾ || [])
          ]
        );
      }
      
      // 5. æ’å…¥åˆ†æç»“æœ
      await connection.execute(
        `INSERT INTO analysis_results (
          assessment_id, cause_analysis, organ_analysis, constitution_analysis,
          precautions, taboos, emotion_analysis, health_trends, lifestyle_habits,
          mineral_deficiency, vitamin_deficiency, overall_health_score, health_level, recommendations
        ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)`,
        [
          assessmentId,
          JSON.stringify(jsonData.ç—…å› åˆ†æ || {}),
          JSON.stringify(jsonData.è„è…‘åˆ†æ || {}),
          JSON.stringify(jsonData.ä½“è´¨åˆ†æ || {}),
          JSON.stringify(jsonData.æ³¨æ„äº‹é¡¹ || {}),
          JSON.stringify(jsonData.ç¦å¿Œäº‹é¡¹ || {}),
          JSON.stringify(jsonData.æƒ…ç»ªçŠ¶æ€ || {}),
          JSON.stringify(jsonData.å¥åº·è¶‹åŠ¿ || {}),
          JSON.stringify(jsonData.ç”Ÿæ´»ä¹ æƒ¯ || {}),
          JSON.stringify(jsonData.çŸ¿ç‰©è´¨ç¼ºä¹ || {}),
          JSON.stringify(jsonData.ç»´ç”Ÿç´ ç¼ºä¹ || {}),
          68.5, // ç¤ºä¾‹å€¼ï¼Œéœ€è¦å®é™…è®¡ç®—
          'fair',
          'å»ºè®®è°ƒç†è‚è‚¾åŠŸèƒ½ï¼Œæ”¹å–„è¡€æ¶²å¾ªç¯...'
        ]
      );
      
      console.log(`âœ… æˆåŠŸè¿ç§»: ${jsonFile}`);
    }
    
    console.log('\nğŸ‰ æ•°æ®è¿ç§»å®Œæˆï¼');
    
  } catch (error) {
    console.error('âŒ è¿ç§»å¤±è´¥:', error);
  } finally {
    await connection.end();
  }
}

// æ‰§è¡Œè¿ç§»
migrateJsonData();
```

---

## ä¹ã€æˆæœ¬ä¼°ç®—

### 9.1 å¼€å‘æˆæœ¬

| é¡¹ç›® | å·¥ä½œé‡ | è¯´æ˜ |
|------|--------|------|
| æ•°æ®åº“è®¾è®¡ | 2å¤© | è¡¨ç»“æ„è®¾è®¡ã€ERå›¾ |
| åç«¯APIå¼€å‘ | 10å¤© | ç”¨æˆ·è®¤è¯ã€è¯„ä¼°ç®¡ç†ã€åˆ†æå¼•æ“ |
| æ•°æ®åˆ†æå¼•æ“ | 5å¤© | è‡ªåŠ¨åˆ†æé€»è¾‘å®ç° |
| å‰ç«¯æ”¹é€  | 3å¤© | ä¿®æ”¹æäº¤é€»è¾‘ã€åå°æ”¹é€  |
| æ•°æ®è¿ç§» | 2å¤© | JSONåˆ°MySQLè¿ç§»è„šæœ¬ |
| æµ‹è¯•ä¸è°ƒè¯• | 3å¤© | åŠŸèƒ½æµ‹è¯•ã€æ€§èƒ½ä¼˜åŒ– |
| **æ€»è®¡** | **25å¤©** | çº¦5å‘¨ |

---

### 9.2 è¿è¥æˆæœ¬ï¼ˆæœˆåº¦ï¼‰

| é¡¹ç›® | é…ç½® | è´¹ç”¨ |
|------|------|------|
| åº”ç”¨æœåŠ¡å™¨ | 4æ ¸8G SSD 100G | Â¥200-300/æœˆ |
| æ•°æ®åº“æœåŠ¡å™¨ | 8æ ¸16G SSD 500G | Â¥400-600/æœˆ |
| åŸŸå | yuanqiyuanliu.com | Â¥60/å¹´ |
| SSLè¯ä¹¦ | Let's Encryptå…è´¹ | Â¥0 |
| CDNæµé‡ | 100GB/æœˆ | Â¥30-50/æœˆ |
| å¤‡ä»½å­˜å‚¨ | 100GB | Â¥20/æœˆ |
| **æ€»è®¡** | | **Â¥700-1000/æœˆ** |

---

## åã€å®æ–½è·¯çº¿å›¾

### é˜¶æ®µä¸€ï¼šåŸºç¡€æ¶æ„æ­å»ºï¼ˆç¬¬1å‘¨ï¼‰
- [ ] æ•°æ®åº“è®¾è®¡ä¸åˆ›å»º
- [ ] åç«¯é¡¹ç›®åˆå§‹åŒ–
- [ ] åŸºç¡€APIæ¡†æ¶æ­å»º
- [ ] å¼€å‘ç¯å¢ƒé…ç½®

### é˜¶æ®µäºŒï¼šæ ¸å¿ƒåŠŸèƒ½å¼€å‘ï¼ˆç¬¬2-3å‘¨ï¼‰
- [ ] ç”¨æˆ·è®¤è¯ç³»ç»Ÿ
- [ ] è¯„ä¼°æ•°æ®API
- [ ] æ•°æ®åˆ†æå¼•æ“
- [ ] å‰ç«¯æäº¤é€»è¾‘æ”¹é€ 

### é˜¶æ®µä¸‰ï¼šç®¡ç†åå°å¼€å‘ï¼ˆç¬¬4å‘¨ï¼‰
- [ ] ç®¡ç†åå°API
- [ ] å‰ç«¯åå°æ”¹é€ 
- [ ] æ•°æ®å¯è§†åŒ–åŠŸèƒ½
- [ ] PDFç”ŸæˆåŠŸèƒ½

### é˜¶æ®µå››ï¼šæµ‹è¯•ä¸ä¼˜åŒ–ï¼ˆç¬¬5å‘¨ï¼‰
- [ ] åŠŸèƒ½æµ‹è¯•
- [ ] æ€§èƒ½æµ‹è¯•
- [ ] å®‰å…¨æµ‹è¯•
- [ ] æ•°æ®è¿ç§»

### é˜¶æ®µäº”ï¼šéƒ¨ç½²ä¸Šçº¿ï¼ˆç¬¬6å‘¨ï¼‰
- [ ] æœåŠ¡å™¨é…ç½®
- [ ] åº”ç”¨éƒ¨ç½²
- [ ] åŸŸåè§£æ
- [ ] ç›‘æ§é…ç½®

---

## åä¸€ã€é£é™©ä¸åº”å¯¹

### 11.1 æŠ€æœ¯é£é™©

| é£é™© | å½±å“ | åº”å¯¹æªæ–½ |
|------|------|----------|
| æ•°æ®åº“æ€§èƒ½ç“¶é¢ˆ | ç³»ç»Ÿå“åº”æ…¢ | ä½¿ç”¨Redisç¼“å­˜ã€è¯»å†™åˆ†ç¦» |
| APIå®‰å…¨æ¼æ´ | æ•°æ®æ³„éœ² | JWTè®¤è¯ã€HTTPSåŠ å¯†ã€è¾“å…¥éªŒè¯ |
| å‰åç«¯å…¼å®¹æ€§é—®é¢˜ | åŠŸèƒ½å¼‚å¸¸ | å……åˆ†æµ‹è¯•ã€ç‰ˆæœ¬æ§åˆ¶ |

### 11.2 ä¸šåŠ¡é£é™©

| é£é™© | å½±å“ | åº”å¯¹æªæ–½ |
|------|------|----------|
| æ•°æ®è¿ç§»ä¸¢å¤± | å†å²æ•°æ®ä¸¢å¤± | è¿ç§»å‰å¤‡ä»½ã€åˆ†æ‰¹è¿ç§»éªŒè¯ |
| ç”¨æˆ·æ¥å—åº¦ä½ | ä½¿ç”¨ç‡ä½ | é€æ­¥è¿ç§»ã€ä¿æŒç•Œé¢ä¸€è‡´æ€§ |
| è¿ç»´æˆæœ¬å¢åŠ  | æˆæœ¬è¶…æ”¯ | ä¼˜åŒ–æ¶æ„ã€ä½¿ç”¨äº‘æœåŠ¡å¼¹æ€§ä¼¸ç¼© |

---

## åäºŒã€æ€»ç»“ä¸å»ºè®®

### 12.1 æ–¹æ¡ˆä¼˜åŠ¿
1. **æ•°æ®æŒä¹…åŒ–**ï¼šæ‰€æœ‰æ•°æ®å­˜å‚¨åœ¨MySQLæ•°æ®åº“ï¼Œå®‰å…¨å¯é 
2. **å®æ—¶åŒæ­¥**ï¼šå‰åç«¯æ•°æ®å®æ—¶åŒæ­¥ï¼Œæ— éœ€æ‰‹åŠ¨æ“ä½œ
3. **è‡ªåŠ¨åŒ–åˆ†æ**ï¼šæäº¤è¯„ä¼°åè‡ªåŠ¨ç”Ÿæˆåˆ†ææŠ¥å‘Š
4. **å¯æ‰©å±•æ€§å¼º**ï¼šæ”¯æŒå¤šç”¨æˆ·ã€å¤šè§’è‰²ã€å¤šåœºæ™¯
5. **æ˜“äºç»´æŠ¤**ï¼šè§„èŒƒçš„ä»£ç ç»“æ„ã€å®Œå–„çš„æ—¥å¿—ç³»ç»Ÿ

### 12.2 å®æ–½å»ºè®®
1. **åˆ†é˜¶æ®µå®æ–½**ï¼šå…ˆå®ç°æ ¸å¿ƒåŠŸèƒ½ï¼Œå†é€æ­¥æ‰©å±•
2. **ä¿æŒå…¼å®¹æ€§**ï¼šå‰ç«¯ç•Œé¢ä¿æŒä¸å˜ï¼Œä»…ä¿®æ”¹é€»è¾‘
3. **æ•°æ®å¤‡ä»½**ï¼šè¿ç§»å‰åŠ¡å¿…å¤‡ä»½æ‰€æœ‰JSONæ•°æ®
4. **å……åˆ†æµ‹è¯•**ï¼šæ¯ä¸ªé˜¶æ®µå®Œæˆåè¿›è¡Œå……åˆ†æµ‹è¯•
5. **ç›‘æ§é¢„è­¦**ï¼šéƒ¨ç½²åé…ç½®ç›‘æ§å’ŒæŠ¥è­¦æœºåˆ¶

### 12.3 åç»­ä¼˜åŒ–æ–¹å‘
1. **AIæ™ºèƒ½åˆ†æ**ï¼šå¼•å…¥æœºå™¨å­¦ä¹ ç®—æ³•ï¼Œæå‡åˆ†æå‡†ç¡®æ€§
2. **ç§»åŠ¨ç«¯APP**ï¼šå¼€å‘åŸç”ŸAPPï¼Œæå‡ç”¨æˆ·ä½“éªŒ
3. **å¾®ä¿¡å°ç¨‹åº**ï¼šå¼€å‘å°ç¨‹åºï¼Œæ‰©å¤§è¦†ç›–é¢
4. **æ•°æ®æŒ–æ˜**ï¼šåŸºäºå¤§æ•°æ®è¿›è¡Œå¥åº·è¶‹åŠ¿åˆ†æ
5. **æ™ºèƒ½æ¨è**ï¼šåŸºäºç”¨æˆ·ç”»åƒæ¨èä¸ªæ€§åŒ–è°ƒç†æ–¹æ¡ˆ

---

**æ–‡æ¡£ç‰ˆæœ¬**ï¼šv1.0
**æœ€åæ›´æ–°**ï¼š2026å¹´01æœˆ27æ—¥
**ç¼–å†™äºº**ï¼šæŠ€æœ¯å›¢é˜Ÿ
